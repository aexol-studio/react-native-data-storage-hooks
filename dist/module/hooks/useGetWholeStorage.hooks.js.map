{"version":3,"sources":["useGetWholeStorage.hooks.ts"],"names":["AsyncStorage","useEffect","useState","useGetWholeStorage","values","setValues","refresh","_setRefresh","refreshValues","checkStorage","asyncValues","asyncKeys","getAllKeys","length","forEach","el","valueFromAsync","getItem","newArray","JSON","parse","push"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,2CAAzB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACtC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBH,QAAQ,EAApC;AACA,QAAM,CAACI,OAAD,EAAUC,WAAV,IAAyBL,QAAQ,CAAU,KAAV,CAAvC;;AAEA,QAAMM,aAAyB,GAAG,MAAM;AACtCD,IAAAA,WAAW,CAAC,CAACD,OAAF,CAAX;AACD,GAFD;;AAIAL,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,YAAY,GAAG,YAAY;AAC/B,UAAIC,WAAoB,GAAG,EAA3B;AACA,YAAMC,SAAS,GAAG,MAAMX,YAAY,CAACY,UAAb,EAAxB;;AACA,UAAID,SAAS,CAACE,MAAV,GAAmB,CAAvB,EAA0B;AACxBF,QAAAA,SAAS,CAACG,OAAV,CAAkB,MAAOC,EAAP,IAAsB;AACtC,gBAAMC,cAAc,GAAG,MAAMhB,YAAY,CAACiB,OAAb,CAAqBF,EAArB,CAA7B;;AACA,cAAIC,cAAJ,EAAoB;AAClB,gBAAIE,QAAQ,GAAG,CAACH,EAAD,EAAKI,IAAI,CAACC,KAAL,CAAWJ,cAAX,CAAL,CAAf;AACAN,YAAAA,WAAW,CAACW,IAAZ,CAAiBH,QAAjB;AACD;;AACDb,UAAAA,SAAS,CAACK,WAAD,CAAT;AACD,SAPD;AAQD;AACF,KAbD;;AAcAD,IAAAA,YAAY;AACb,GAhBQ,EAgBN,CAACH,OAAD,CAhBM,CAAT;AAkBA,SAAO,CAACF,MAAD,EAASI,aAAT,CAAP;AACD,CA3BM","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport {useEffect, useState} from 'react';\r\n\r\nexport const useGetWholeStorage = () => {\r\n  const [values, setValues] = useState<any[][]>();\r\n  const [refresh, _setRefresh] = useState<boolean>(false);\r\n\r\n  const refreshValues: () => void = () => {\r\n    _setRefresh(!refresh);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const checkStorage = async () => {\r\n      let asyncValues: any[][] = [];\r\n      const asyncKeys = await AsyncStorage.getAllKeys();\r\n      if (asyncKeys.length > 0) {\r\n        asyncKeys.forEach(async (el: string) => {\r\n          const valueFromAsync = await AsyncStorage.getItem(el);\r\n          if (valueFromAsync) {\r\n            let newArray = [el, JSON.parse(valueFromAsync)];\r\n            asyncValues.push(newArray);\r\n          }\r\n          setValues(asyncValues);\r\n        });\r\n      }\r\n    };\r\n    checkStorage();\r\n  }, [refresh]);\r\n\r\n  return [values, refreshValues] as const;\r\n};\r\n"]}